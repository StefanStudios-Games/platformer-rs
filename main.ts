namespace SpriteKind {
    export const trap = SpriteKind.create()
    export const meme = SpriteKind.create()
}
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile0`, function (sprite, location) {
    if (gameMode == "play") {
        if (1 > currentCheckpoint) {
            currentCheckpoint = 1
        }
    }
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameMode == "play") {
        if (Leonardo.tileKindAt(TileDirection.Top, sprites.dungeon.stairSouth)) {
            animation.runImageAnimation(
            Leonardo,
            [img`
                ................
                ................
                ................
                ......ffff......
                .....f7777f.88..
                .....8888888....
                .f...f7777f.88..
                f7f..f7777f.....
                f7f...ffff......
                f77ffffeefffff..
                .f777efeefe777f.
                ..fffffffffff77f
                ....fefeefef.f7f
                ....ffffffff.f7f
                ....fefeefef..f.
                ....ffffffff....
                ....f7f..f7f....
                ....f7f..f7f....
                ....f7f..f7f....
                ....fff..fff....
                `,img`
                ................
                ................
                ................
                ......ffff......
                .....f7777f.88..
                .....8888888....
                .....f7777f.88..
                .....f7777f.....
                ......ffff......
                fffffffeefffffff
                f7777efeefe7777f
                ffffffffffffffff
                ....fefeefef....
                ....ffffffff....
                ....fefeefef....
                ....ffffffff....
                ....f7f..f7f....
                ....f7f..f7f....
                ....f7f..f7f....
                ....fff..fff....
                `,img`
                ................
                ................
                ................
                ......ffff......
                .....f7777f.88..
                .....8888888....
                .....f7777f.88f.
                .....f7777f..f7f
                ......ffff...f7f
                ..fffffeeffff77f
                .f777efeefe777f.
                f77fffffffffff..
                f7f.fefeefef....
                f7f.ffffffff....
                .f..fefeefef....
                ....ffffffff....
                ....f7f..f7f....
                ....f7f..f7f....
                ....f7f..f7f....
                ....fff..fff....
                `],
            100,
            true
            )
        }
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile6`, function (sprite, location) {
    game.over(true)
})
controller.B.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameMode == "play") {
        if (direction == 0) {
            Leonardo.setImage(img`
                ................
                ................
                ................
                ......ffff......
                .....f7777f.88..
                .....8f88f88....
                .....f7777f.88..
                .....f7227f.....
                ......ffff......
                .ffffffeeffff...
                f7777efeefe77f..
                .ffffffffffff7f.
                ....fefeefef.f7f
                ....ffffffff..ff
                ....fefeefef....
                ....ffffffff....
                ....f7f..f7f....
                ...ff7f..f7ff...
                ...f77f..f77f...
                ...ffff..ffff...
                `)
            shuriken = sprites.createProjectileFromSprite(img`
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                . . . . . . . . . . . . . 
                `, Leonardo, -150, 0)
        } else {
            Leonardo.setImage(img`
                ................
                ................
                ................
                ......ffff......
                ..88.f7777f.....
                ....88f88f8.....
                ..88.f7777f.....
                .....f7227f.....
                ......ffff......
                ...ffffeeffffff.
                ..f77efeefe7777f
                .f7ffffffffffff.
                f7f.fefeefef....
                ff..ffffffff....
                ....fefeefef....
                ....ffffffff....
                ....f7f..f7f....
                ...ff7f..f7ff...
                ...f77f..f77f...
                ...ffff..ffff...
                `)
            shuriken = sprites.createProjectileFromSprite(img`
                . . . . . . . . f f . . . 
                . . . . . . . f d d f . . 
                . f . . . . f d d f . . . 
                f d f f . f d d d f . . . 
                f d d d f d d d f . . . . 
                . f d d d d f d d f . . . 
                . . f d d f . f d d f . . 
                . . . f d d f d d d d f . 
                . . . . f d d d f d d d f 
                . . . f d d d f . f f d f 
                . . . f d d f . . . . f . 
                . . f d d f . . . . . . . 
                . . . f f . . . . . . . . 
                `, Leonardo, 150, 0)
        }
        scaling.scaleToPercent(shuriken, 50, ScaleDirection.Uniformly, ScaleAnchor.Middle)
    }
})
scene.onOverlapTile(SpriteKind.Player, assets.tile`myTile15`, function (sprite, location) {
    if (gameMode == "play") {
        if (sprites.readDataBoolean(Leonardo, "easter") == false) {
            sprites.setDataBoolean(Leonardo, "easter", true)
            tiles.setWallAt(tiles.getTileLocation(9, 21), false)
            tiles.setWallAt(tiles.getTileLocation(8, 21), false)
            tiles.setWallAt(tiles.getTileLocation(7, 21), false)
            tiles.setWallAt(tiles.getTileLocation(6, 21), false)
            tiles.setWallAt(tiles.getTileLocation(5, 21), false)
            tiles.setWallAt(tiles.getTileLocation(9, 22), false)
            tiles.setWallAt(tiles.getTileLocation(8, 22), false)
            tiles.setWallAt(tiles.getTileLocation(7, 22), false)
            tiles.setWallAt(tiles.getTileLocation(6, 22), false)
            tiles.setWallAt(tiles.getTileLocation(5, 22), false)
            tiles.setWallAt(tiles.getTileLocation(3, 22), false)
            tiles.setWallAt(tiles.getTileLocation(2, 22), false)
            tiles.setWallAt(tiles.getTileLocation(1, 22), false)
            tiles.setTileAt(tiles.getTileLocation(7, 21), assets.tile`myTile14`)
            tiles.setTileAt(tiles.getTileLocation(7, 22), assets.tile`myTile7`)
            tiles.setTileAt(tiles.getTileLocation(8, 21), assets.tile`transparency16`)
            tiles.setTileAt(tiles.getTileLocation(8, 22), assets.tile`transparency16`)
            tiles.setTileAt(tiles.getTileLocation(9, 21), assets.tile`transparency16`)
            tiles.setTileAt(tiles.getTileLocation(9, 22), assets.tile`transparency16`)
        }
    }
})
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameMode == "play") {
        if (Leonardo.vy == 0) {
            Leonardo.vy = -100
        }
    }
})
events.tileEvent(SpriteKind.Player, assets.tile`myTile7`, events.TileEvent.StartOverlapping, function (sprite) {
    console.log("check meme")
    if (sprites.readDataBoolean(Leonardo, "meme") == false) {
        console.log("meme false")
        game.showLongText("Salut prietene eu sunt Gigachad si sunt easteregul din primul nivel", DialogLayout.Full)
        sprites.setDataBoolean(Leonardo, "meme", true)
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameMode == "play") {
        if (!(controller.right.isPressed())) {
            direction = 0
            animation.runImageAnimation(
            Leonardo,
            [img`
                ................
                ................
                ................
                ......ffff......
                .....f7777f.88..
                .....8f88f88....
                .....f7777f.88..
                .....f7227f.....
                ......ffff......
                ...ffffeeffff...
                ..f77efeefe77f..
                .f7ffffffffff7f.
                f7f.fefeefef.f7f
                ff..ffffffff..ff
                ....fefeefef....
                ....ffffffff....
                ....f7f..f7f....
                ...ff7f.ff7f....
                ...f77f.f77f....
                ...ffff.ffff....
                `,img`
                ................
                ................
                ................
                ......ffff......
                .....f7777f.88..
                .....8f88f88....
                .....f7777f.88..
                .....f7227f.....
                ......ffff......
                ...ffffeeffff...
                ..f77efeefe77f..
                .f7ffffffffff7f.
                f7f.fefeefef.f7f
                ff..ffffffff..ff
                fff.fefeefef....
                f7ffffffffffffff
                f77777f..f77777f
                fffffff..fffff7f
                .............fff
                ...............c
                `],
            100,
            true
            )
        }
    }
})
function story2 () {
    scene.setBackgroundColor(12)
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ............................................................fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff...................
        .........................................................fff111111111111111111111111111111111111111111111111111111111111111111111111111111111fff................
        .......................................................ff111111111111111111111111111111111111111111111111111111111111111111111111111111111111111ff..............
        .....................................................ff1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111ff............
        ....................................................f11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f...........
        ...................................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f..........
        .................................................ff111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111ff........
        ................................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f.......
        ...............................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f......
        ...............................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f......
        ..............................................f11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f.....
        .............................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f....
        ............................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f...
        ............................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f...
        ...........................................f11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f..
        ...........................................f11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f..
        ..........................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f.
        ..........................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f.
        ..........................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f.
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f
        ..........................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f.
        ..........................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f.
        ..........................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f.
        ...........................................f11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f..
        ...........................................f11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f..
        ............................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f...
        ............................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f...
        .............................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f....
        ............................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f.....
        ............................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f......
        ...........................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f......
        ..........................................f1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f.......
        .........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111ff........
        ........................................f111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f..........
        ........................................f11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111f...........
        .......................................f111111fffffffff1111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111ff............
        ......................................ffffffff.........ff111111111111111111111111111111111111111111111111111111111111111111111111111111111111111ff..............
        ...................ffffffffffff..........................fff111111111111111111111111111111111111111111111111111111111111111111111111111111111fff................
        ...................ffffffffffff.............................fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff...................
        ...................ffffffffffff.................................................................................................................................
        ................fff777777777777fff...888888.....................................................................................................................
        ................fff777777777777fff...888888.....................................................................................................................
        ................fff777777777777fff...888888.....................................................................................................................
        ................888fff888888fff888888...........................................................................................................................
        ................888fff888888fff888888...........................................................................................................................
        ................888fff888888fff888888...........................................................................................................................
        ................fff777777777777fff...888888.....................................................................................................................
        ................fff777777777777fff...888888.....................................................................................................................
        ................fff777777777777fff...888888.....................................................................................................................
        ................fff777222222777fff..............................................................................................................................
        ................fff777222222777fff..............................................................................................................................
        ................fff777222222777fff..............................................................................................................................
        ...................ffffffffffff.................................................................................................................................
        ...................ffffffffffff.................................................................................................................................
        ...................ffffffffffff.................................................................................................................................
        ..........ffffffffffffeeeeeeffffffffffff........................................................................................................................
        ..........ffffffffffffeeeeeeffffffffffff........................................................................................................................
        ..........ffffffffffffeeeeeeffffffffffff........................................................................................................................
        .......fff777777eeefffeeeeeefffeee777777fff.....................................................................................................................
        .......fff777777eeefffeeeeeefffeee777777fff.....................................................................................................................
        .......fff777777eeefffeeeeeefffeee777777fff.....................................................................................................................
        ....fff777ffffffffffffffffffffffffffffff777fff..................................................................................................................
        ....fff777ffffffffffffffffffffffffffffff777fff..................................................................................................................
        ....fff777ffffffffffffffffffffffffffffff777fff..................................................................................................................
        .fff777fff...fffeeefffeeeeeefffeeefff...fff777fff...............................................................................................................
        .fff777fff...fffeeefffeeeeeefffeeefff...fff777fff...............................................................................................................
        .fff777fff...fffeeefffeeeeeefffeeefff...fff777fff...............................................................................................................
        .ffffff......ffffffffffffffffffffffff......ffffff...............................................................................................................
        .ffffff......ffffffffffffffffffffffff......ffffff...............................................................................................................
        .ffffff......ffffffffffffffffffffffff......ffffff...............................................................................................................
        .............fffeeefffeeeeeefffeeefff...........................................................................................................................
        .............fffeeefffeeeeeefffeeefff...........................................................................................................................
        .............fffeeefffeeeeeefffeeefff...........................................................................................................................
        .............ffffffffffffffffffffffff...........................................................................................................................
        .............ffffffffffffffffffffffff...........................................................................................................................
        .............ffffffffffffffffffffffff...........................................................................................................................
        .............fff777fff......fff777fff...........................................................................................................................
        .............fff777fff......fff777fff...........................................................................................................................
        .............fff777fff......fff777fff...........................................................................................................................
        ..........ffffff777fff......fff777ffffff........................................................................................................................
        ..........ffffff777fff......fff777ffffff........................................................................................................................
        ..........ffffff777fff......fff777ffffff........................................................................................................................
        ..........fff777777fff......fff777777fff........................................................................................................................
        ..........fff777777fff......fff777777fff........................................................................................................................
        ..........fff777777fff......fff777777fff........................................................................................................................
        ..........ffffffffffff......ffffffffffff........................................................................................................................
        ..........ffffffffffff......ffffffffffff........................................................................................................................
        `)
    story.printDialog("Hello...", 100, 50, 50, 100, 15, 1)
    story.printDialog("My name is Leonardo.", 100, 50, 50, 100, 15, 1)
    story.printDialog("My brothers have been kidnapped by Crangs army.", 100, 50, 50, 100, 15, 1)
    story.printDialog("I need your help to save them.", 100, 50, 50, 100, 15, 1)
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        `)
    scene.setBackgroundColor(0)
}
controller.right.onEvent(ControllerButtonEvent.Released, function () {
    if (gameMode == "play") {
        if (!(controller.left.isPressed())) {
            animation.stopAnimation(animation.AnimationTypes.All, Leonardo)
            Leonardo.setImage(img`
                ................
                ................
                ................
                ......ffff......
                ..88.f7777f.....
                ....88f88f8.....
                ..88.f7777f.....
                .....f7227f.....
                ......ffff......
                ...ffffeeffff...
                ..f77efeefe77f..
                .f7ffffffffff7f.
                f7f.fefeefef.f7f
                ff..ffffffff..ff
                ....fefeefef....
                ....ffffffff....
                ....f7f..f7f....
                ...ff7f..f7ff...
                ...f77f..f77f...
                ...ffff..ffff...
                `)
        }
    }
})
controller.left.onEvent(ControllerButtonEvent.Released, function () {
    if (gameMode == "play") {
        if (!(controller.right.isPressed())) {
            animation.stopAnimation(animation.AnimationTypes.All, Leonardo)
            Leonardo.setImage(img`
                ................
                ................
                ................
                ......ffff......
                .....f7777f.88..
                .....8f88f88....
                .....f7777f.88..
                .....f7227f.....
                ......ffff......
                ...ffffeeffff...
                ..f77efeefe77f..
                .f7ffffffffff7f.
                f7f.fefeefef.f7f
                ff..ffffffff..ff
                ....fefeefef....
                ....ffffffff....
                ....f7f..f7f....
                ...ff7f..f7ff...
                ...f77f..f77f...
                ...ffff..ffff...
                `)
        }
    }
})
function play () {
	
}
sprites.onOverlap(SpriteKind.Player, SpriteKind.trap, function (sprite, otherSprite) {
    Leonardo.y += -7
    Leonardo.vy = -50
    info.changeLifeBy(-1)
    music.knock.play()
    if (currentCheckpoint == 0) {
        tiles.placeOnRandomTile(Leonardo, assets.tile`myTile`)
    } else if (currentCheckpoint == 1) {
        tiles.placeOnRandomTile(Leonardo, assets.tile`myTile0`)
    }
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (gameMode == "play") {
        if (!(controller.left.isPressed())) {
            direction = 1
            animation.runImageAnimation(
            Leonardo,
            [img`
                ................
                ................
                ................
                ......ffff......
                ..88.f7777f.....
                ....88f88f8.....
                ..88.f7777f.....
                .....f7227f.....
                ......ffff......
                ...ffffeeffff...
                ..f77efeefe77f..
                .f7ffffffffff7f.
                f7f.fefeefef.f7f
                ff..ffffffff..ff
                ....fefeefef....
                ....ffffffff....
                ....f7f..f7f....
                ....f7ff.f7ff...
                ....f77f.f77f...
                ....ffff.ffff...
                `,img`
                ................
                ................
                ................
                ......ffff......
                ..88.f7777f.....
                ....88f88f8.....
                ..88.f7777f.....
                .....f7227f.....
                ......ffff......
                ...ffffeeffff...
                ..f77efeefe77f..
                .f7ffffffffff7f.
                f7f.fefeefef.f7f
                ff..ffffffff..ff
                ....fefeefef.fff
                ffffffffffffff7f
                f77777f..f77777f
                f7fffff..fffffff
                fff.............
                c...............
                `],
            100,
            true
            )
        }
    }
})
controller.up.onEvent(ControllerButtonEvent.Released, function () {
    if (gameMode == "play") {
        animation.stopAnimation(animation.AnimationTypes.All, Leonardo)
        Leonardo.setImage(img`
            ................
            ................
            ................
            ......ffff......
            ..88.f7777f.....
            ....88f88f8.....
            ..88.f7777f.....
            .....f7227f.....
            ......ffff......
            ...ffffeeffff...
            ..f77efeefe77f..
            .f7ffffffffff7f.
            f7f.fefeefef.f7f
            ff..ffffffff..ff
            ....fefeefef....
            ....ffffffff....
            ....f7f..f7f....
            ...ff7f..f7ff...
            ...f77f..f77f...
            ...ffff..ffff...
            `)
    }
})
function callSpikes () {
    for (let value of tiles.getTilesByType(assets.tile`myTile9`)) {
        spr_Spike = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . f f . . . . . . . 
            . . . . . . f f f f . . . . . . 
            . . . . . f f f f f f . . . . . 
            . . . . f f f f f f f f . . . . 
            . . . f f f f f f f f f f . . . 
            . . f f f f f f f f f f f f . . 
            . f f f f f f f f f f f f f f . 
            `, SpriteKind.trap)
        tiles.placeOnTile(spr_Spike, value)
        tiles.setTileAt(value, assets.tile`transparency16`)
    }
}
controller.B.onEvent(ControllerButtonEvent.Released, function () {
    if (gameMode == "play") {
        if (!(controller.right.isPressed())) {
            if (direction == 0) {
                Leonardo.setImage(img`
                    ................
                    ................
                    ................
                    ......ffff......
                    .....f7777f.88..
                    .....8f88f88....
                    .....f7777f.88..
                    .....f7227f.....
                    ......ffff......
                    ...ffffeeffff...
                    ..f77efeefe77f..
                    .f7ffffffffff7f.
                    f7f.fefeefef.f7f
                    ff..ffffffff..ff
                    ....fefeefef....
                    ....ffffffff....
                    ....f7f..f7f....
                    ...ff7f..f7ff...
                    ...f77f..f77f...
                    ...ffff..ffff...
                    `)
            } else {
                Leonardo.setImage(img`
                    ................
                    ................
                    ................
                    ......ffff......
                    ..88.f7777f.....
                    ....88f88f8.....
                    ..88.f7777f.....
                    .....f7227f.....
                    ......ffff......
                    ...ffffeeffff...
                    ..f77efeefe77f..
                    .f7ffffffffff7f.
                    f7f.fefeefef.f7f
                    ff..ffffffff..ff
                    ....fefeefef....
                    ....ffffffff....
                    ....f7f..f7f....
                    ...ff7f..f7ff...
                    ...f77f..f77f...
                    ...ffff..ffff...
                    `)
            }
        }
    }
})
sprites.onOverlap(SpriteKind.Player, SpriteKind.Food, function (sprite, otherSprite) {
    otherSprite.destroy()
    info.changeScoreBy(1)
})
function changeMode (mode: string) {
    console.log("changeMode: " + mode)
    if (mode == "menu") {
        scene.setBackgroundImage(img`
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999999999ffffffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999999999ffffffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            999999999999999999999999999999ff77777777ff9988889999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            999999999999999999999999999999ff77777777ff9988889999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999999988ff8888ff888899999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999999988ff8888ff888899999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            999999999999999999999999999999ff77777777ff9988889999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            999999999999999999999999999999ff77777777ff9988889999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            999999999999999999999999999999ff77222277ff9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999999999ffffffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999999999ffffffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999ffffffffeeeeffffffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999ffffffffeeeeffffffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            999999999999999999999999ff7777eeffeeeeffee7777ff9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            999999999999999999999999ff7777eeffeeeeffee7777ff9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999ff77ffffffffffffffffffff77ff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999ff77ffffffffffffffffffff77ff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999ff77ff99ffeeffeeeeffeeff99ff77ff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999ffff9999ffffffffffffffff9999ffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999ffff9999ffffffffffffffff9999ffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999ffeeffeeeeffeeff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999ffeeffeeeeffeeff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999ffffffffffffffff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999ffffffffffffffff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999ff77ff9999ff77ff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999ff77ff9999ff77ff99999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999ffff77ff9999ff77ffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999ff7777ff9999ff7777ff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999ff7777ff9999ff7777ff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999ffffffff9999ffffffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            99999999999999999999999999ffffffff9999ffffffff999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            9999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999999
            `)
        myMenu = miniMenu.createMenu(
        miniMenu.createMenuItem("play", img`
            . . . . . . f f f f . . . . . . 
            . . . . f f f 2 2 f f f . . . . 
            . . . f f f 2 2 2 2 f f f . . . 
            . . f f f e e e e e e f f f . . 
            . . f f e 2 2 2 2 2 2 e e f . . 
            . . f e 2 f f f f f f 2 e f . . 
            . . f f f f e e e e f f f f . . 
            . f f e f b f 4 4 f b f e f f . 
            . f e e 4 1 f d d f 1 4 e e f . 
            . . f f f f d d d d d e e f . . 
            . f d d d d f 4 4 4 e e f . . . 
            . f b b b b f 2 2 2 2 f 4 e . . 
            . f b b b b f 2 2 2 2 f d 4 . . 
            . . f c c f 4 5 5 4 4 f 4 4 . . 
            . . . f f f f f f f f . . . . . 
            . . . . . f f . . f f . . . . . 
            `),
        miniMenu.createMenuItem("credits", img`
            . . . b b b b b b b b b . . . . 
            . . b 1 d d d d d d d 1 b . . . 
            . b 1 1 1 1 1 1 1 1 1 1 1 b . . 
            . b d b c c c c c c c b d b . . 
            . b d c 6 6 6 6 6 6 6 c d b . . 
            . b d c 6 d 6 6 6 6 6 c d b . . 
            . b d c 6 6 6 6 6 6 6 c d b . . 
            . b d c 6 6 6 6 6 6 6 c d b . . 
            . b d c 6 6 6 6 6 6 6 c d b . . 
            . b d c c c c c c c c c d b . . 
            . c b b b b b b b b b b b c . . 
            c b c c c c c c c c c c c b c . 
            c 1 d d d d d d d d d d d 1 c . 
            c 1 d 1 1 d 1 1 d 1 1 d 1 1 c . 
            c b b b b b b b b b b b b b c . 
            c c c c c c c c c c c c c c c . 
            `),
        miniMenu.createMenuItem("story", img`
            . c c c c c c c c c c c c c c . 
            c b d d d d d d d d d d d d b c 
            c d d d d d d d d d d d d d d c 
            c d d d d d d d d d d d d d d c 
            c d d d d d d d d d d d d d d c 
            c d d d d d d d d d d d d d d c 
            c d d d d d d d d d d d d d d c 
            c b d d d d d d d d d d d d b c 
            c c b b b b b b b b b b b b c c 
            c c f f f f f f f f f f f f c c 
            c b c 4 4 c 7 c 6 6 c 3 c c b c 
            c b c 4 4 c 7 c 6 6 c 3 c c b c 
            c b c 4 4 c 7 c 6 6 c 3 c c b c 
            c d c c c c c c c c c c c c d c 
            c d c d d d d d d d d d d c d c 
            c c c c c c c c c c c c c c c c 
            `)
        )
        myMenu.setDimensions(160, 100)
        myMenu.setPosition(0, 50)
    } else if (mode == "play") {
        changeMode("starting")
    } else if (mode == "credits") {
        game.setDialogFrame(img`
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccc
            ccdccccccccccccccccccccccccccccccccccddccccccccc
            cdddcccccccccccccccccccccccccccccccccddccccccccc
            cdddccccccccccddcccccccccccccccccccccddccccddccc
            cd5dcccccccccdddddcccccccccccdddddcccdddcccdddcc
            cdddcccdddcccd555dccccdddddccd555dccddddcccdddcc
            cd5dccdddddccdddddccccdddddccdddddccd5ddcccdddcc
            cdddccd5d5dccd555dcddcd5dddccd555dccddddddddddcc
            cd5dccdddddccdddddcddcddd5dccddddddddd5ddd555ddd
            ddddccd5d5dccd555dcddcdddddccd555ddddddddddddddd
            dd5dcdddddddddddddcddcd5ddddddddddddd5dddd555ddd
            ddddcdd5d5dddd555dddddddd5dddd555ddddddddddddddd
            dd5dcddddddddddddddddddddddddddddddddd5ddd555ddd
            ddddddddddddddddddddddd5dddddddddddddddddddddddd
            ddddddddddddddddddddddddd5ddddddddddd5dddd555ddd
            dddddddddddddddddddddddddddddddddddddddddddddddd
            dddddddddddddddddddddddddddddddddddddddddddddddd
            `)
        game.showLongText("Acest joc a fost facut de 2 natafleti Unul mai mare ca celalat la Scriucod", DialogLayout.Full)
    } else if (mode == "starting") {
        scene.setBackgroundImage(img`
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
            `)
        Leonardo = sprites.create(img`
            ................
            ................
            ................
            ......ffff......
            .....f7777f.88..
            .....8f88f88....
            .....f7777f.88..
            .....f7227f.....
            ......ffff......
            ...ffffeeffff...
            ..f77efeefe77f..
            .f7ffffffffff7f.
            f7f.fefeefef.f7f
            ff..ffffffff..ff
            ....fefeefef....
            ....ffffffff....
            ....f7f..f7f....
            ...ff7f..f7ff...
            ...f77f..f77f...
            ...ffff..ffff...
            `, SpriteKind.Player)
        sprites.setDataBoolean(Leonardo, "meme", false)
        Leonardo.ay = 250
        tiles.setCurrentTilemap(tilemap`level1`)
        tiles.placeOnRandomTile(Leonardo, assets.tile`myTile`)
        scene.setBackgroundColor(9)
        scene.cameraFollowSprite(Leonardo)
        callSpikes()
        callpoints()
        controller.moveSprite(Leonardo, 80, 0)
        info.setScore(0)
        ninja = sprites.create(img`
            .f..............
            .f....ffff......
            .f...f2222f.....
            .f...f2ff2f.....
            .f....ffff......
            .f...ffffff.....
            .f..fff22fff....
            .fffff2ff2f2f...
            .ff2ffffff2f2f..
            .f2f.f2ff2f.f2f.
            .ff..ff22ff..f2f
            .f..ff2ff2ff..f2
            .2..f2f..f2f...f
            ....f2f..f2f....
            ....f2f..f2f....
            ....f2f..f2f....
            ....f2f..f2f....
            ...ff2f..f2ff...
            ..f222f..f222f..
            ...fff....fff...
            `, SpriteKind.Enemy)
        ninja.ay = 100
        tiles.placeOnRandomTile(ninja, assets.tile`myTile3`)
        info.setLife(3)
        currentCheckpoint = 0
        animation.runImageAnimation(
        ninja,
        [img`
            .............f...........
            ............f............
            ...........f.............
            ..........f..............
            .........f...............
            ........f................
            ......ff....ffff.........
            .....f2f...f2222f........
            .....ff2f..f2ff2f........
            ....f..f2f..ffff.........
            ...2....f2ffffffff.......
            .........f2ff22ff2f......
            ..........ff2ff2ff2f.....
            ...........2ffff2.f2f....
            ...........f2ff2f..f2f...
            ...........ff22ff...f2f..
            ..........ff2ff2ff...f...
            ..........f2f..f2f.......
            ..........f2f..f2f.......
            ..........f2f..f2f.......
            ..........f2f..f2f.......
            ..........f2f..f2f.......
            .........ff2f..f2ff......
            ........f222f..f222f.....
            .........fff....fff......
            `,img`
            .........................
            .........................
            .........................
            .........................
            .........................
            .........................
            ............ffff.........
            ...........f2222f........
            ...........f2ff2f........
            ............ffff.........
            f.........ffffffff.......
            .f.......f2ff22ff2f......
            ..f.....f2ff2ff2ff2f.....
            ...f.f.f2f.2ffff2.f2f....
            ....f.f2f..f2ff2f..f2f...
            ...f.f2f...ff22ff...f2f..
            ......f...ff2ff2ff...f...
            .......2..f2f..f2f.......
            ..........f2f..f2f.......
            ..........f2f..f2f.......
            ..........f2f..f2f.......
            ..........f2f..f2f.......
            .........ff2f..f2ff......
            ........f222f..f222f.....
            .........fff....fff......
            `],
        500,
        true
        )
        myMenu.close()
    } else if (mode == "story") {
        myMenu.close()
        story2()
    }
    gameMode = mode
}
function callpoints () {
    for (let value2 of tiles.getTilesByType(assets.tile`myTile8`)) {
        points = sprites.create(img`
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . 5 5 5 5 5 5 5 . . . . . . . 
            . 5 5 5 5 5 5 5 5 5 . . . . . . 
            5 5 5 5 f f f 5 5 5 5 . . . . . 
            5 5 5 f 5 5 5 5 5 5 5 . . . . . 
            5 5 5 f 5 5 5 5 5 5 5 . . . . . 
            5 5 5 f f f f 5 5 5 5 . . . . . 
            5 5 5 f 5 5 5 5 5 5 5 . . . . . 
            5 5 5 f 5 5 5 5 5 5 5 . . . . . 
            5 5 5 f 5 5 5 5 5 5 5 . . . . . 
            . 5 5 5 f f f 5 5 5 . . . . . . 
            . . 5 5 5 5 5 5 5 . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            . . . . . . . . . . . . . . . . 
            `, SpriteKind.Food)
        tiles.placeOnTile(points, value2)
        tiles.setTileAt(value2, assets.tile`transparency16`)
    }
}
scene.onOverlapTile(SpriteKind.Player, sprites.dungeon.stairSouth, function (sprite, location) {
    if (controller.up.isPressed()) {
        Leonardo.vy = -100
    }
})
let points: Sprite = null
let ninja: Sprite = null
let myMenu: miniMenu.MenuSprite = null
let spr_Spike: Sprite = null
let shuriken: Sprite = null
let direction = 0
let Leonardo: Sprite = null
let currentCheckpoint = 0
let gameMode = ""
changeMode("menu")
gameMode = "menu"
game.onUpdate(function () {
    if (gameMode == "menu") {
        myMenu.onButtonPressed(controller.A, function (selection, selectedIndex) {
            changeMode(selection)
        })
    }
})
